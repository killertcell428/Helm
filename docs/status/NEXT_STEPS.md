# 次のステップ

## 次のステップ候補

### 優先度: 高 🔴

#### 1. 実APIの動作確認と改善 ✅ **完了**
**目的**: モックモードから実APIモードへの移行確認

**タスク**:
- [x] 実際のGoogle Meet会議から議事録を取得する機能のテスト
- [x] 実際のGoogle Chatスペースからメッセージを取得する機能のテスト
- [x] 生成されたドキュメントの内容を改善（より詳細な分析結果を含める）
- [x] 実APIエラー時の適切なフォールバック動作の確認

**見積もり**: 2-3日
**完了日**: 2025年1月13日

**実装内容**:
- Google Meet API v2の実装完了（議事録取得機能）
- Google Meet/Chat APIの統合テスト作成（30テスト通過）
- ドキュメント生成内容の改善（スコア、緊急性、証拠、評価詳細を含む）
- エラーハンドリングのテスト作成と動作確認

#### 2. 実行進捗のリアルタイム表示 ✅ **完了**
**目的**: ユーザー体験の向上

**タスク**:
- [x] WebSocketまたはServer-Sent Eventsの実装
- [x] 実行進捗のリアルタイム更新
- [x] タスク完了時の通知機能

**見積もり**: 2-3日
**完了日**: 2025年1月13日

**実装内容**:
- WebSocketエンドポイントの実装（`/api/execution/{execution_id}/ws`）
- バックグラウンドタスク実行とリアルタイム進捗送信
- タスク完了時の通知機能（トースト通知）
- 接続失敗時のポーリング方式への自動フォールバック
- case1, case2, case3デモページへの統合

#### 3. エラーログとモニタリング
**目的**: 運用時の問題発見と対応

**タスク**:
- [×] エラーログの詳細化
- [×] ログ集約システムの導入（オプション）
- [×] エラー通知機能（オプション）

**見積もり**: 1-2日

### 優先度: 中 🟡

#### 4. UI/UX改善
**目的**: ユーザー体験の向上

**タスク**:
- [×] ローディング状態の改善（スケルトンローディングなど）
- [×] エラーメッセージの表示方法の改善（トースト通知など）
- [×] レスポンシブデザインの最適化
- [×] コンペの説明用に各実行の説明やアニメーション追加

**見積もり**: 3-5日

#### 5. テストの拡充
**目的**: 品質保証とリグレッション防止

**タスク**:
- [x] 実API統合テストの追加（Google Meet/Chat APIテスト追加済み）
- [ ] E2Eテストの拡充（WebSocket統合テストなど）
- [ ] パフォーマンステスト
- [ ] 負荷テスト（オプション）

**見積もり**: 3-5日
**進捗**: 実API統合テストは完了（30テスト通過）

#### 6. パフォーマンス最適化
**目的**: レスポンス時間の改善

**タスク**:
- [ ] APIレスポンスのキャッシュ
- [ ] フロントエンドのコード分割
- [ ] 画像・アセットの最適化
- [ ] データベースクエリの最適化（将来実装時）

**見積もり**: 2-3日

### 優先度: 低 🟢

#### 7. ドキュメント整備
**目的**: 開発者・ユーザー向けドキュメントの充実

**タスク**:
- [ ] API仕様書の詳細化
- [ ] 開発者ガイドの作成
- [ ] Zenn記事とYoutube動画用の台本作成
- [ ] ユーザーガイドの作成
- [ ] アーキテクチャドキュメントの更新

**見積もり**: 2-3日

#### 9. 機能拡張
**目的**: 新機能の追加

**タスク**:
- [ ] 複数のケース（Case 2, Case 3）の実装
- [ ] 組織グラフの実装（エスカレーション先の自動決定）
- [ ] エスカレーション履歴の永続化
- [ ] 通知機能の実装（メール、Slackなど）

**見積もり**: 5-10日

## 推奨される次のステップ

### 🎯 提出時点での最終デプロイ版アプリ完成に向けた優先タスク（再来週提出）

#### 第1優先（必須）🔴

1. **Cloud Runデプロイの本実装**
   - **現状**: 設定ファイルは準備済みだが、実際のデプロイと動作確認が未完了
   - **必要な作業**:
     - [ ] Google Cloud Projectの最終確認
     - [ ] Cloud Runへの実際のデプロイ実行
     - [ ] 環境変数の設定（Cloud Run環境変数として設定）
     - [ ] デプロイ後の動作確認（APIエンドポイントのテスト）
     - [ ] CORS設定の確認（フロントエンドからのアクセス許可）
   - **見積もり**: 1-2日
   - **参考**: [SETUP.md](../backend/SETUP.md)、[cloudbuild.yaml](../backend/cloudbuild.yaml)

2. **ADKエージェント機能の本実装（Phase2）**
   - **現状**: Phase1（モック実装）は完了。Phase2（実際のAPI統合）が未完了
   - **必要な作業**:
     - [ ] Vertex AI Search API統合（ResearchAgent用）
     - [ ] Google Drive API統合（AnalysisAgent用、社内データ取得）
     - [ ] Google Chat/Gmail API統合（NotificationAgent用、通知送信）
     - [ ] 各エージェントの統合テスト
   - **見積もり**: 3-5日
   - **参考**: [ADK_SETUP.md](../backend/ADK_SETUP.md)
   - **注意**: 時間がなければPhase1のままでも可（モック実装で動作）

3. **フロントエンドの本番デプロイ確認**
   - **現状**: Vercelへのデプロイ設定はあるが、本番環境の最終確認が必要
   - **必要な作業**:
     - [ ] 本番環境のAPI URL設定（Cloud RunのURL）
     - [ ] 環境変数の設定
     - [ ] ビルドとデプロイの確認
     - [ ] 本番環境での動作確認
   - **見積もり**: 0.5-1日

#### 第2優先（推奨）🟡

4. **エラーログとモニタリングの改善**
   - **見積もり**: 1-2日

5. **投稿用コンテンツ作成**
   - **必要な作業**:
     - [ ] Zenn記事の作成（アーキテクチャ説明、実装のハイライト、技術スタック、デモの説明）
     - [ ] YouTube動画用の台本作成（デモの流れ、技術的な説明ポイント、実装のハイライト）
     - [ ] デモ動画の準備（スクリーンキャプチャ、ナレーション、編集）
   - **見積もり**: 3-4日

#### 第3優先（時間があれば）🟢

6. **E2Eテストの拡充**
   - **見積もり**: 2-3日

7. **パフォーマンス最適化**
   - **見積もり**: 2-3日

### 短期（1-2週間）✅ **進行中**
1. ✅ **実APIの動作確認** - 完了（Google Meet/Chat API実装とテスト完了）
2. ✅ **実行進捗のリアルタイム表示** - 完了（WebSocket実装完了）
3. ✅ **UI/UX改善** - 完了（スケルトンローディング、トースト通知、レスポンシブ、アニメーション）

### 中期（1ヶ月）
1. **テストの拡充** - 品質保証の強化
2. **パフォーマンス最適化** - レスポンス時間の改善
3. **ドキュメント整備** - 開発者・ユーザー向けドキュメントの充実

### 長期（2-3ヶ月）
1. **機能拡張** - 新機能の追加
2. **セキュリティ強化** - セキュリティの向上
3. **運用体制の構築** - モニタリング、ログ管理、エラー通知

## 意思決定が必要な項目

1. ✅ **実APIの優先度**: 完了（実API実装とテスト完了）
2. **テスト戦略**: どの程度のテストカバレッジを目指すか（現在30テスト通過、E2Eテストの拡充が必要）
3. **機能拡張**: どの機能を優先的に実装するか（Case 2, Case 3、組織グラフなど）
4. **コンペ提出準備**: ドキュメント整備とデモ準備の優先度

## 最近の完了項目

### ✅ ADKベースのマルチエージェントシステム実装（2025年1月14日）
- ADK (Agent Development Kit) のセットアップ完了
- ResearchAgent、AnalysisAgent、NotificationAgentの実装
- モック実装とフォールバック対応
- SharedContextによるエージェント間のデータ共有
- テストスクリプトによる動作確認完了
- **Phase1完了**: モック実装とADK統合
- **Phase2予定**: 実際のAPI統合（Vertex AI Search、Google Drive、Google Chat/Gmail API）

### ✅ 実行進捗のリアルタイム表示（2025年1月13日）
- WebSocketエンドポイント実装
- リアルタイム進捗更新機能
- タスク完了通知機能
- フォールバック機能（ポーリング方式）

### ✅ 実APIの動作確認と改善（2025年1月13日）
- Google Meet API v2実装完了
- Google Meet/Chat API統合テスト作成
- ドキュメント生成内容の改善
- エラーハンドリングのテストと確認

### ✅ LLM連携（Gemini / Gen AI SDK）の確立（2025年1月13日）
- Gen AI SDK（`google.generativeai`）経由での Gemini 呼び出しを実APIとして採用
- デフォルトモデルを `models/gemini-1.5-flash` とし、`USE_LLM=true` + `GOOGLE_API_KEY` で本番モード動作（gemini-2.0-flash-001は廃止予定のため更新）
- LLM失敗時はモックに自動フォールバック（`llm_status=mock_fallback`）する設計を維持

## 次のアクション推奨

### 🎯 提出時点での最終デプロイ版アプリ完成に向けた優先タスク

**詳細は上記「提出時点での最終デプロイ版アプリ完成に向けた優先タスク」セクションを参照**

### 優先度: 高 🔴（提出後も継続）

1. **Phase2: 実際のAPI統合**（ADKエージェント）
   - Vertex AI Search API統合（市場データ検索）
   - Google Drive API統合（社内データ取得）
   - Google Chat/Gmail API統合（通知送信）
   - **見積もり**: 3-5日
   - **参考**: [ADKセットアップガイド](../backend/ADK_SETUP.md)

2. **Cloud Runデプロイの本実装**
   - 実際のデプロイ実行と動作確認
   - 環境変数の設定
   - **見積もり**: 1-2日

3. **投稿用コンテンツ作成**（コンペ提出準備）
   - Zenn記事とYoutube動画用の台本作成
   - デモ動画の準備
   - アーキテクチャドキュメントの更新
   - **見積もり**: 3-4日

4. **E2Eテストの拡充**
   - WebSocket統合を含む完全なフローのテスト
   - ADKエージェントの統合テスト
   - パフォーマンステスト
   - **見積もり**: 2-3日

### 優先度: 中 🟡

3. **パフォーマンス最適化**
   - APIレスポンスのキャッシュ
   - フロントエンドのコード分割
   - **見積もり**: 2-3日

4. **機能拡張**
   - Case 2, Case 3の実装（既にWebSocket対応済み）
   - 組織グラフの実装
   - **見積もり**: 5-10日

## 参考資料

- **[CURRENT_DEVELOPMENT_STATUS.md](./CURRENT_DEVELOPMENT_STATUS.md)** - 現在の開発状況の詳細整理（最新）
- [WEEK2_SUMMARY.md](./WEEK2_SUMMARY.md) - Week 2の実装サマリー
- [WEEK2_PROGRESS.md](./WEEK2_PROGRESS.md) - 詳細な進捗記録
- [PROJECT_STATUS.md](./PROJECT_STATUS.md) - プロジェクト状況
- [REAL_DATA_IMPLEMENTATION.md](../backend/REAL_DATA_IMPLEMENTATION.md) - 実データ実装の詳細
- [BROWSER_TEST_REPORT_COMPLETE.md](../archive/BROWSER_TEST_REPORT_COMPLETE.md) - 動作確認レポート
- [ADK_SETUP.md](../backend/ADK_SETUP.md) - ADKセットアップガイド
- [SETUP.md](../backend/SETUP.md) - バックエンドセットアップガイド
