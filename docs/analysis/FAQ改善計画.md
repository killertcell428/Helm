# FAQ改善計画

**目的**: ZENN記事のFAQセクションにおいて、曖昧な回答を排除し、未設計・検討中は明示、設計を詰めるべき項目は具体的な検討内容を整理する。

---

## 1. 現状の問題点サマリー

| カテゴリ | 質問 | 主な問題 |
|----------|------|----------|
| 導入・運用 | 監視感の工夫 | 将来設計が「検討中」なのに曖昧に混在、最後の一文が抽象的 |
| 導入・運用 | 運用プレイブック | 「CoE/Champions育成」「ポストモーテム接続」が具体性不足 |
| 導入・運用 | 学習・改善への繋がり | 「ポストモーテムの入力データとして提供」の実体が不明 |
| 技術 | なぜADK？ | CrewAI/AutoGenとの比較が抽象的、選定根拠が弱い |
| 技術 | API設計・クライアント拡張 | 「想定」「拡張を想定」が曖昧、現状 vs 将来の境界不明 |
| 技術 | レイテンシ/コスト/スケール | **未計測・未設計**なのに「計測予定」で濁している |
| 評価・AI | 因果と相関 | 測定方法・指標・タイミングが具体化されていない |
| 評価・AI | 組織グラフ/RACIメンテ | 「管理UIでの編集を想定」→ 管理UIは未実装 |
| 評価・AI | モデル劣化防止 | 「定期的に」の頻度・担当者が不明 |
| セキュリティ | 不正アクセス対策 | 「プロダクションでは〜を想定」「READMEに追記予定」→ 未実装 |
| セキュリティ | レート制限・DoS等 | 「API層で実装予定」→ 未実装 |
| セキュリティ | データ境界 | マスキングの具体ルール・保持期間の数値が不明 |
| その他 | チャットボットとの違い | 回答は比較的明確 |
| その他 | 社外展開の普遍性 | 「ドメイン適応で対応可能」が抽象的 |
| その他 | 納得感の設計 | 回答は比較的明確 |

---

## 2. 回答方針の整理

### 方針A: 「未設計」「検討中」を明示して回答する

曖昧に書かず、**現状の状態をはっきり伝える**。

| 質問 | 現状 | 回答の書き方 |
|------|------|--------------|
| レイテンシ/コスト/スケール | 未計測。job-queue.mdは設計のみ、実装なし | 「**現時点では未計測。** 分析は非同期・キュー設計（job-queue.md）を想定しており、会議1件あたりのコスト・レイテンシは運用フェーズで計測する予定。Gemini呼び出し回数に依存するため、事前見積もりにはトークン数・会議長の想定が必要。」 |
| 不正アクセス対策 | API Key＋ロールのみ実装。OIDC/IAPは未実装 | 「**現状はAPI Key＋ロールで実装済み。** プロダクション向けのOIDC/IAP・Workspace連携は未実装。脅威モデル・セキュリティ設計TODOはREADMEへの追記も未実施。」 |
| レート制限・DoS等 | 未実装 | 「**現状未実装。** レート制限・コスト上限はAPI層での実装を予定。LLM入力は構造化データに限定しユーザー自由入力を経由しない設計のため、プロンプトインジェクション耐性は設計上担保。監査ログの改ざん耐性はハッシュ値記録で対応する設計（未実装）。」 |
| 組織グラフ/RACIメンテ | 管理UIは未実装、JSON編集のみ | 「**現状は** `config/definitions/` のJSONを直接編集。Firestore永続化後は管理UIでの編集を想定しているが、**管理UIは未実装。** バージョン管理・監査ログによる変更履歴追跡は設計済み。」 |

---

### 方針B: 設計を詰めてから回答する項目

以下は、**具体的な設計を決めたうえで**回答を書き直すべき。

---

#### B-1. 現場が「監視されている」と感じない工夫は？ ✅ 反映済み

**方針**: 設計（目的と境界の定義）・実装（データ最小化・アクセス統制・監査）・ポリシー/運用（周知・同意/協議・救済）の三点セットで対応。「言い切れる説明」＋7つの必要条件＋「監視されるから書かない」の3原因への対策を明示。ポリシーで用途を縛り、設計で境界を決め、実装で破れない形に固定し、運用で救済と透明性を回す。

**ZENN記事に反映済み。** 参考: 公益財団法人遺族育英会の従業者モニタリング整理、EU AI Act Article 26、NIST AI RMF。

---

#### B-2. 運用プレイブック（導入→1ヶ月→3ヶ月） ✅ 反映済み

**方針**: CoE/Champions・ポストモーテムは具体性が不足するため削除。3ヶ月以降は「方針検討中」と明記。

**回答**: 導入時・1ヶ月は具体化。3ヶ月は校正データでの再評価まで。3ヶ月以降の学習・改善サイクル（社内体制・他ツールとの連携など）は方針検討中。

---

#### B-3. エンジニア組織の学習・改善にどう繋がる？ ✅ 反映済み

**方針**: ポストモーテム連携は「方針検討中」とし、実装済みAPI（audit/logs、feedback/false-positive）と分析活用の流れを明記。

**回答**: 検知記録・エスカレーション履歴は `GET /api/audit/logs` で取得可能。誤検知は `POST /api/feedback/false-positive` で登録。誤検知パターン分析→閾値・ルール見直しに活用。他ツール（ポストモーテム等）との連携形式は方針検討中。

---

#### B-4. なぜADK？他フレームワークとの差分は？

**現状の問題**: CrewAI/AutoGenとの比較が抽象的。

**設計で詰めるべき内容**:

1. **選定時の評価軸**
   - Google Cloud統合: 具体的に何を指すか（Vertex AI、Cloud Run、GCPネイティブなデプロイなど）
   - State管理の明示性: ADKのSharedContext vs 他フレームワークの状態管理の違い
2. **比較表（簡易でよい）**
   - ADK / CrewAI / AutoGen を、マルチエージェント、状態共有、GCP連携、タスク依存の観点で比較
3. **不採用理由**
   - CrewAI/AutoGenを選ばなかった理由を1〜2行で

**回答の書き方例**:
- 「ADKを選定。理由: (1) マルチエージェント（Research/Analysis/Notification）の並列実行とSharedContextによる状態共有が明示的、(2) Google Cloud（Vertex AI、Cloud Run）との統合が容易、(3) TaskWorkflowAgentでタスク依存と実行順制御を実現。CrewAI/AutoGenは状態管理が暗黙的で、GCPネイティブなデプロイとの相性を重視しADKを採用。」

---

#### B-5. 因果と相関を混同しない？本当に改善に繋がる介入か？

**現状の問題**: 「介入前後の意思決定リードタイム・議題化の変化を測定」の具体性不足。

**設計で詰めるべき内容**:

1. **測定指標の定義**
   - 意思決定リードタイム: 何から何までを測るか（例: 検知日→経営層承認日）
   - 議題化の変化: 何をどう測るか（例: 経営会議の議題に上がったか/日数）
2. **測定のタイミング・頻度**
   - いつ、誰が、どのサンプルで測定するか
3. **因果の誤認リスク抑制**
   - 「経営層の承認を必須」「AIは提案に留める」は既に記載済み。追加で、A/Bテストや介入群・非介入群の比較が可能かどうか

**回答の書き方例**:
- 「検知は相関ベース。介入効果は、検知日→経営層承認日までのリードタイム、および経営会議への議題化有無・日数を測定して検証する設計。経営層の承認を必須とし、AIは提案に留め最終判断は人に委ねるため、因果の誤認リスクを抑制。測定頻度・サンプル設計は運用フェーズで確定予定。」

---

#### B-6. モデルが学習で劣化しない仕組みは？

**現状の問題**: 「定期的に重み・閾値を再評価」の「定期」が不明。

**設計で詰めるべき内容**:

1. **再評価の頻度**
   - 例: 月1回、四半期1回、誤検知がN件蓄積したら、など
2. **再評価の担当・プロセス**
   - 誰が実施するか（運用担当、CoE、自動化）
   - 評価データセットの更新方法（誤検知FBをどう反映するか）
3. **継続学習の有無**
   - 「継続学習は未実装」は明確。重み・閾値の再評価は「パラメータ調整」であり、モデルそのものの再学習ではないことを区別

**回答の書き方例**:
- 「継続学習（モデルの再学習）は未実装。運用中の再校正として、誤検知FBを蓄積し、月1回（または誤検知が50件蓄積時）に重み・閾値を再評価する設計。評価データセット（匿名化疑似ログ）→ 校正 → 運用 → 精度モニタリング → 再校正のPDCAを回す。」

---

#### B-7. データ境界（Meet/Chatログの保護、権限委譲）

**現状の問題**: マスキングの具体ルール・保持期間の数値が不明。

**設計で詰めるべき内容**:

1. **マスキングルール**
   - 個人名→役職への置換ルール（組織グラフと照合?）
   - 機微情報: 何を指すか（金額、個人情報、機密キーワードなど）
2. **保持期間**
   - data-retention.md に記載あり: meetings/chats 90日、analyses 180日、escalations/approvals/executions 365日
   - これをFAQに明記
3. **権限委譲**
   - サービスアカウントのスコープ、誰がアクセスできるか

**回答の書き方例**:
- 「対象はスコープを持つサービスアカウント前提。ログは個人名を役職に置換し、機微情報（金額・個人識別子）をマスキング。保持期間は meetings/chats 90日、analyses 180日、escalations/approvals/executions 365日（data-retention.md）。自動削除は `POST /api/admin/retention/cleanup` で実行。アクセスは経営企画・ガバナンス担当に限定。Cloud Loggingで監査証跡を保全。」

---

#### B-8a. 意思決定にも様々な問題の種類がありパターンとしてどうやって検出・分類するかが判断できないのでは？ ✅ 設計反映済み

**方針**: 網羅的なパターン定義は初回から行わず、**企業ごとに重要な判断を順にパターンを追加していく**設計。重複する事象が複数パターンに該当する場合は、**事前定義されたパターンの優先順位**に基づき、優先度の高い1件のみを発行する。

**参照設計（MECE枠組み）**:
- **意思決定**: B1_正当化フェーズ、B2_判断集中、B3_反対意見無視、B4_データ無視（拡張）
- **報告・エスカレーション**: ES1_報告遅延、ES2_エスカレーション不明確
- **執行・現場**: EX1_現場乖離、EX2_情報遮断（拡張）
- **フォールバック**: default

**回答の書き方例**:
- 「初回導入では、企業ごとに重要な判断（例：投資判断の見直し、報告遅延）を優先してパターンを定義し、運用を重ねながら段階的に追加します。複数パターンに該当する場合は、raci・approval_flows で定義された優先順位に従い1件のみ発行。参照用のMECE枠組み（意思決定／報告・エスカレーション／執行・現場）を用意しており、必要に応じてパターンを拡張できます。」

---

#### B-8. 社外展開（他社/他業界）できる普遍性は？

**現状の問題**: 「ドメイン適応で対応可能」が抽象的。

**設計で詰めるべき内容**:

1. **差し替え可能な定義**
   - org_graph, raci, approval_flows のJSONスキーマが公開されているか
   - 他業界向けのサンプル定義があるか
2. **ドメイン適応の具体例**
   - 例: 製造業では「品質問題のエスカレーション」、金融では「コンプライアンス違反」など、検知パターンやルールの差し替え
3. **共通課題の説明**
   - 「誰が・いつ・どう判断するか」の曖昧さが業界横断で共通、という点を簡潔に

**回答の書き方例**:
- 「組織グラフ・RACI・承認フローはJSONで定義可能（`config/definitions/`）。業界横断で『誰が・いつ・どう判断するか』の曖昧さは共通課題。他社・他業界では、定義の差し替えと検知パターン・ルールのドメイン適応で対応。スキーマはリポジトリで公開。」

---

## 3. 回答が比較的明確な項目（微修正のみ）

| 質問 | 現状 | 修正案 |
|------|------|--------|
| チャットボットとの違い | 明確 | そのまま |
| 納得感の設計 | 明確 | そのまま |
| 外部UIに依存しないAPI設計 | やや曖昧 | 「認証は現状API Key＋ロール。OIDC/IAP・Workspace連携は将来拡張として設計上の拡張ポイントを確保。未実装。」と明記 |

---

## 4. 実施状況

| 項目 | 状態 |
|------|------|
| 方針A: 未設計・検討中を明示 | ✅ ZENN記事に反映済み |
| B-1 監視感の工夫 | ✅ 提示方針で全面書き換え済み |
| B-2 運用プレイブック | ✅ CoE/Champions・ポストモーテム削除、方針検討中に |
| B-3 学習・改善 | ✅ 反映済み |
| B-8a パターン検出・分類の設計 | ✅ 設計反映済み（config/definitions/README、ZENN記事、アプリFAQ） |
| B-4〜B-8、データ境界、その他 | ✅ 回答例の方針で反映済み |

---

## 5. FAQ冒頭の注記案

審査・導入検討向けであるため、現状の正確な伝達が重要。以下のような注記を追加することを推奨。

> 本FAQは、現時点の設計・実装状況に基づいて回答しています。**実装済み**・**設計済み（未実装）**・**検討中**を区別して記載し、未確定の項目はその旨を明記しています。
