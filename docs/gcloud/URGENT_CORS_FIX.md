# 🚨 緊急：CORSエラー修正手順

現在、フロントエンドからバックエンドAPIへのリクエストがCORSエラーでブロックされています。

## 即座に実行すべき手順

### ステップ1: Google Cloud Consoleにアクセス

1. [Cloud Runコンソール](https://console.cloud.google.com/run?project=helm-project-484105) にアクセス
2. プロジェクト `helm-project-484105` が選択されていることを確認
3. **`helm-api`** サービスをクリック

### ステップ2: サービスを編集

1. 上部の **「編集と新しいリビジョンをデプロイ」** ボタンをクリック

### ステップ3: 環境変数を追加/更新

1. **「変数とシークレット」** タブをクリック
2. **「変数」** セクションで `CORS_ORIGINS` を探す
   - 存在しない場合は **「変数を追加」** をクリック
   - 存在する場合は **「編集」** ボタン（鉛筆アイコン）をクリック
3. **名前**: `CORS_ORIGINS`
4. **値**: 以下をコピー＆ペースト
   ```
   http://localhost:3000,https://v0-helm-pdca-demo.vercel.app
   ```
5. **「保存」** をクリック

### ステップ4: デプロイ

1. ページ下部の **「デプロイ」** ボタンをクリック
2. デプロイが完了するまで待機（約1-2分）
   - 「リビジョンが正常にデプロイされました」というメッセージが表示されるまで待つ

### ステップ5: 動作確認

1. フロントエンド（https://v0-helm-pdca-demo.vercel.app）にアクセス
2. ブラウザの開発者ツール（F12）を開く
3. **Console** タブでCORSエラーが解消されていることを確認
4. **Network** タブでAPIリクエストが正常に送信されていることを確認

## 確認ポイント

✅ `CORS_ORIGINS` 環境変数が正しく設定されている
✅ デプロイが完了している
✅ フロントエンドでCORSエラーが表示されていない
✅ APIリクエストが正常に送信されている

## トラブルシューティング

### デプロイ後もCORSエラーが発生する場合

1. ブラウザのキャッシュをクリア（Ctrl+Shift+Delete）
2. フロントエンドページをリロード（Ctrl+F5）
3. ブラウザの開発者ツールで再度確認

### 環境変数が反映されない場合

1. Cloud Runコンソールでサービスの詳細を確認
2. 最新のリビジョンがデプロイされていることを確認
3. 環境変数の値が正しいことを確認（スペースや改行が含まれていないか）

---

**この手順を実行すれば、CORSエラーは解消されます！** 🚀
