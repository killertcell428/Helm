# Week 2 実装計画（1/27-2/2）

## 目標

「AIが人を呼び出す」体験の実現

## 実装タスク

### 1. Vertex AI / Gemini統合の強化

**現在の状態:**
- ✅ モック実装済み（`services/vertex_ai.py`）
- ⏳ 実際のAPI統合が必要

**実装内容:**
- [ ] Vertex AI認証設定（環境変数、サービスアカウント）
- [ ] Gemini API統合（構造的問題検知のAI化）
- [ ] 説明文生成の改善（より詳細で説得力のある説明）
- [ ] エラーハンドリングとフォールバック（モックへの自動切り替え）

### 2. 重要性・緊急性評価の改善

**現在の状態:**
- ✅ 基本的なスコアリング実装済み
- ⏳ より詳細な評価ロジックが必要

**実装内容:**
- [ ] 複数の評価軸（重要性、緊急性、影響範囲）
- [ ] 説明可能な理由生成（なぜこのスコアなのか）
- [ ] 定量的メトリクスの可視化
- [ ] スコアリングロジックのドキュメント化

### 3. エスカレーション判断エンジンの強化

**現在の状態:**
- ✅ 基本的なエスカレーション実装済み
- ⏳ より詳細な判断ロジックが必要

**実装内容:**
- [ ] 責任モデル参照（組織グラフ）
- [ ] エスカレーション条件の明確化
- [ ] 複数のロール候補の評価
- [ ] エスカレーション履歴の管理

### 4. Executive承認画面の改善

**現在の状態:**
- ✅ 基本的な承認フロー実装済み
- ⏳ UI/UXの改善が必要

**実装内容:**
- [ ] 承認画面の詳細情報表示
- [ ] 修正オプションの実装
- [ ] 承認履歴の表示
- [ ] 承認後の自動実行トリガー

### 5. アラート詳細画面の実装

**現在の状態:**
- ⏳ 未実装

**実装内容:**
- [ ] 構造的問題の詳細説明画面
- [ ] 証拠データの可視化
- [ ] 影響範囲の表示
- [ ] 推奨アクションの提示

## 実装の優先順位

### 高優先度（MUST）

1. **Vertex AI統合の準備** - 環境変数設定と認証の準備
2. **スコアリングの改善** - より詳細な評価ロジック
3. **Executive承認画面の改善** - UI/UXの向上

### 中優先度（SHOULD）

4. **アラート詳細画面** - 構造的問題の詳細表示
5. **エスカレーション判断の強化** - より詳細なロジック

### 低優先度（OPTIONAL）

6. **メタ評価** - 複数情報源の統合判断
7. **リアルタイム更新** - WebSocket経由での進捗表示

## 実装方針

### Vertex AI統合

- 環境変数でモック/実APIを切り替え可能にする
- 認証情報が設定されていない場合は自動的にモックにフォールバック
- エラーハンドリングを強化

### スコアリング改善

- 複数の評価軸を追加（重要性、緊急性、影響範囲）
- 各評価軸の説明を生成
- スコアの根拠を明確化

### UI改善

- 既存のフロントエンドを最大限活用
- バックエンドAPIとの連携を強化
- ユーザビリティの向上

## 成果物

- ✅ Vertex AI統合（モック/実API切り替え可能）
- ✅ 改善されたスコアリングシステム
- ✅ 強化されたExecutive承認画面
- ⏳ アラート詳細画面（オプション、未実装）

## 実装進捗状況

詳細は [WEEK2_PROGRESS.md](./WEEK2_PROGRESS.md) を参照

### ✅ 完了項目

1. **重要性・緊急性評価の改善** - 完了
2. **Vertex AI統合の準備** - 完了
3. **エスカレーション判断エンジン** - 完了（基本機能）
4. **Executive承認画面の改善** - 完了（基本機能）

### ⏳ 部分的完了

1. **エスカレーション判断エンジン** - 高度な機能は未実装
2. **Executive承認画面** - 修正オプションは部分的

### ❌ 未実装（オプション）

1. **アラート詳細画面** - 独立した画面は未実装

## 結論

**Week 2のコア機能実装は完了しています。**

すべてのコア機能が実装され、エンドツーエンドで動作確認可能な状態です。

残りのタスクは実API実装と品質向上です。

